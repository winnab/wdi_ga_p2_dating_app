.row
  .col-md-12
    %h1 Update My Account
.row
  .col-md-12
    .panel.panel-primary.user-form
      .panel-heading              
        %h2.panel-title Edit My Details
      .panel-body
        = form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put }) do |f|
          = devise_error_messages!
          .row
            %form{role: "form"}
              .col-md-4   
                .form-group
                  = f.label :username, class: "required"
                  = f.text_field :username, placeholder: "Username", class: "form-control"
                .form-group
                  = f.label :email, class: "required"
                  = f.email_field :email, placeholder: "Email Address", class: "form-control"
                  - if devise_mapping.confirmable? && resource.pending_reconfirmation?
                    %div
                      Currently waiting confirmation for: #{resource.unconfirmed_email}  
                .form-group
                  = f.label :password, class: "password-hint"
                  = f.password_field :password, placeholder: "Password", class: "form-control"
                .form-group
                  = f.label :password_confirmation, class: "required"
                  = f.password_field :password_confirmation, placeholder: "Confirm Password", class: "form-control"          
                .form-group
                  = f.label :first_name, class: "required"
                  = f.text_field :first_name, placeholder: "First Name", class: "form-control", :autofocus => true
                .form-group
                  = f.label :last_name, class: "required"
                  = f.text_field :last_name, placeholder: "Last Name", class: "form-control"
                .form-group
                  = f.label :plan, class: "required"
                  = select(:user, :plan, [['Standard'], ['Premium']])
                .form-group
                  = f.label :avatar, "Upload a photo", class: "required"
                  = f.file_field :avatar  
                .form-group
                  = f.label :gender, class: "clear-emphasis"
                  = select(:user, :gender, [['Female'], ['Male'], ['Rather Not Say']])
                .form-group
                  = f.label :age, class: "clear-emphasis"
                  = f.number_field :age, placeholder: "Age", class: "form-control"
                .form-group
                  = f.label :location, class: "clear-emphasis"
                  = f.text_field :location, placeholder: "Location", class: "form-control"
                .form-group
                  = f.label :bio, "About me:", class: "clear-emphasis"
                  = f.text_area :bio, placeholder: "Tell us a bit about yourself...", class: "form-control", rows: 4           
                .form-group
                  = f.label :current_password, class: "required hint"
                  = f.password_field :current_password, placeholder: "Current Password", class: "form-control"                

              = render "form"

              .form-group
                = f.submit "Update My Profile", class: "btn btn-default form-control"

        %h3 Cancel my account
        %p Unhappy? #{button_to "Cancel my account", registration_path(resource_name), :data => { :confirm => "Are you sure?" }, :method => :delete}
        %button
          = link_to "Back", :back

       
